#!/bin/csh -f

#
# Program: purl.obolibrary8.org
#
# Original Author: sc
#
# Purpose:
#	
#	Need to use the -O and specifically specify the output directory
#
#	The solaris version will automatically use the absolute URL
#	but the linux version uses the redirected URL.  So, we need
#	to use the -O option to force the output directory to the
#	the absolute URL.
#

cd `dirname $0` && source ./Configuration && cd ${DATADOWNLOADS}

# Full URL of the file
setenv URL      "http://purl.obolibrary.org/obo/hp.obo"

# Base URL of the file
setenv BASEURL purl.obolibrary.org

# full path to log file
setenv LOGFILE	${MIRRORLOG}/${BASEURL}.log

# output directory
setenv OUTPUTDIR	${DATADOWNLOADS}/${BASEURL}/obo/hp/

# output file
setenv OUTPUTFILE	${OUTPUTDIR}/hp.obo

# if OUTPUTDIR does not exist, create it
if ( ! -d ${OUTPUTDIR} ) then
        mkdir -p ${OUTPUTDIR}
endif

#
# -r = overwrite existing copy with new copy
# -S = print the headers sent by HTTP servers and responses sent by FTP servers.
# -t = number of retries
# -O = full path to output file

wget -o ${LOGFILE} -O${OUTPUTFILE} -rS -t 10 "${URL}" >>& /dev/null
